# 文件传输结果



![image-20210906175244547](D:\TyporaFiles\工作相关\问题记录\接受数据问题\image-20210906175244547.png)

![image-20210906175311172](D:\TyporaFiles\工作相关\问题记录\接受数据问题\image-20210906175311172.png)

# 思路

第一个块数据规定为文件路径，后面的块数据为需要发送的数据

## 客户端

1. 在未进入evloop前，先将文件读取出来，分割成块存放到HASHmap中。并将第一个块规定为服务端生成文件的路径
2. 建立连接后，循环遍历HASHmap循环发送

## 服务端

因为接受的顺序是混乱的，使用hashmap缓存接受的数据

1. 创建hashmap
2. 循环接受块数据
3. 接受完成，并超时，遍历hash map中的数据，将其写入到文件中去

